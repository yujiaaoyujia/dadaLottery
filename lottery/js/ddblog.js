// 前端代码异常上报工具 v1.0.1
var ddblog={errors:[],api:"xxxx/cgi",push:function(a){this.errors.push(a)},report:function(){var b=this.api+errors.join("|")+new Date,c=function(){return+new Date+".r"+Math.floor(1e3*Math.random())},d=window,e="jsimg_"+c(),f=d[e]=new Image;f.onload=f.onerror=function(){d[e]=null},f.src=b},alert:function(a){var b=window.oAlert||window.alert;b(a.msg+"::"+a.url+"::"+a.line+":"+a.col)}};window.onerror=function(a,b,c,d){return"Script error."!==a||b?/WeixinJSBridge/i.test(a)&&!b?!0:/Illegal constructor/i.test(a)?!0:(setTimeout(function(){var e={msg:a,url:b,line:c,col:d||window.event&&window.event.errorCharacter||0,ua:navigator.userAgent,time:+new Date};ddblog.alert(e)},0),!0):!0};